"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[3423],{2485:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>p,frontMatter:()=>s,metadata:()=>c,toc:()=>d});var n=r(5893),a=r(1151),l=r(4866),o=r(5162);const s={sidebar_position:6,title:"Presto"},i="Querying from Presto",c={id:"presto",title:"Presto",description:"Presto allows you to query table formats like Hudi, Delta and Iceberg using connectors. The same setup will",source:"@site/docs/presto.md",sourceDirName:".",slug:"/presto",permalink:"/docs/presto",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6,title:"Presto"},sidebar:"docs",previous:{title:"Microsoft Fabric",permalink:"/docs/fabric"},next:{title:"Snowflake",permalink:"/docs/snowflake"}},u={},d=[];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"querying-from-presto",children:"Querying from Presto"}),"\n",(0,n.jsx)(t.p,{children:"Presto allows you to query table formats like Hudi, Delta and Iceberg using connectors. The same setup will\nwork for Apache XTable\u2122 (Incubating) synced tables as well."}),"\n",(0,n.jsx)(t.p,{children:"For more information and required configurations refer to:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://prestodb.io/docs/current/connector/hudi.html",children:"Hudi Connector"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://prestodb.io/docs/current/connector/deltalake.html",children:"Delta Lake"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://prestodb.io/docs/current/connector/iceberg.html",children:"Iceberg Connector"})}),"\n"]}),"\n",(0,n.jsx)(t.admonition,{title:"Delta Lake:",type:"danger",children:(0,n.jsxs)(t.p,{children:["Delta Lake supports ",(0,n.jsx)(t.a,{href:"https://docs.databricks.com/en/delta/generated-columns.html",children:"generated columns"}),"\nwhich are a special type of column whose values are automatically generated based on a user-specified function\nover other columns in the Delta table. During sync, Apache XTable\u2122 (Incubating) uses the same logic to generate partition columns wherever required.\nCurrently, the generated columns from Apache XTable\u2122 (Incubating) sync shows ",(0,n.jsx)(t.code,{children:"NULL"})," when queried from Presto CLI."]})}),"\n",(0,n.jsxs)(t.p,{children:["For hands on experimentation, please follow ",(0,n.jsx)(t.a,{href:"/docs/how-to",children:"Creating your first interoperable table"})," tutorial\nto create Apache XTable\u2122 (Incubating) synced tables followed by ",(0,n.jsx)(t.a,{href:"/docs/hms",children:"Hive Metastore"})," tutorial to register the target table\nin Hive Metastore. Once done, follow the below high level steps:"]}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["If you are working with a self-managed Presto service, from the presto-server directory run ",(0,n.jsx)(t.code,{children:"./bin/launcher run"})]}),"\n",(0,n.jsxs)(t.li,{children:["From the directory where you have installed presto-cli: login to presto-cli by running ",(0,n.jsx)(t.code,{children:"./presto-cli"})]}),"\n",(0,n.jsxs)(t.li,{children:["Start querying the table i.e. ",(0,n.jsx)(t.code,{children:"SELECT * FROM catalog.schema.table;"}),"."]}),"\n"]}),"\n",(0,n.jsxs)(l.Z,{groupId:"table-format",defaultValue:"hudi",values:[{label:"targetFormat: HUDI",value:"hudi"},{label:"targetFormat: DELTA",value:"delta"},{label:"targetFormat: ICEBERG",value:"iceberg"}],children:[(0,n.jsx)(o.Z,{value:"hudi",children:(0,n.jsxs)(t.admonition,{title:"Note:",type:"tip",children:[(0,n.jsxs)(t.p,{children:["If you are following the example from ",(0,n.jsx)(t.a,{href:"/docs/hms",children:"Hive Metastore"}),", you can query the Apache XTable\u2122 (Incubating) synced Hudi table\nfrom Presto using the below query."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",metastring:'md title="sql"',children:"SELECT * FROM hudi.hudi_db.<table_name>;\n"})})]})}),(0,n.jsx)(o.Z,{value:"delta",children:(0,n.jsxs)(t.admonition,{title:"Note:",type:"tip",children:[(0,n.jsxs)(t.p,{children:["If you are following the example from ",(0,n.jsx)(t.a,{href:"/docs/hms",children:"Hive Metastore"}),", you can query the Apache XTable\u2122 (Incubating) synced Delta table\nfrom Presto using the below query."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",metastring:'md title="sql"',children:"SELECT * FROM delta.delta_db.<table_name>;\n"})})]})}),(0,n.jsx)(o.Z,{value:"iceberg",children:(0,n.jsxs)(t.admonition,{title:"Note:",type:"tip",children:[(0,n.jsxs)(t.p,{children:["If you are following the example from ",(0,n.jsx)(t.a,{href:"/docs/hms",children:"Hive Metastore"}),", you can query the Apache XTable\u2122 (Incubating) synced Iceberg table\nfrom Presto using the below query."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sql",metastring:'md title="sql"',children:"SELECT * FROM iceberg.iceberg_db.<table_name>;\n"})})]})})]})]})}function p(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},5162:(e,t,r)=>{r.d(t,{Z:()=>o});r(7294);var n=r(6010);const a={tabItem:"tabItem_Ymn6"};var l=r(5893);function o(e){let{children:t,hidden:r,className:o}=e;return(0,l.jsx)("div",{role:"tabpanel",className:(0,n.Z)(a.tabItem,o),hidden:r,children:t})}},4866:(e,t,r)=>{r.d(t,{Z:()=>w});var n=r(7294),a=r(6010),l=r(2466),o=r(6550),s=r(469),i=r(1980),c=r(7392),u=r(12);function d(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:r}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:r,attributes:n,default:a}}=e;return{value:t,label:r,attributes:n,default:a}}))}(r);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function p(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function b(e){let{queryString:t=!1,groupId:r}=e;const a=(0,o.k6)(),l=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,i._X)(l),(0,n.useCallback)((e=>{if(!l)return;const t=new URLSearchParams(a.location.search);t.set(l,e),a.replace({...a.location,search:t.toString()})}),[l,a])]}function m(e){const{defaultValue:t,queryString:r=!1,groupId:a}=e,l=h(e),[o,i]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:l}))),[c,d]=b({queryString:r,groupId:a}),[m,f]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,l]=(0,u.Nk)(r);return[a,(0,n.useCallback)((e=>{r&&l.set(e)}),[r,l])]}({groupId:a}),g=(()=>{const e=c??m;return p({value:e,tabValues:l})?e:null})();(0,s.Z)((()=>{g&&i(g)}),[g]);return{selectedValue:o,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:l}))throw new Error(`Can't select invalid tab value=${e}`);i(e),d(e),f(e)}),[d,f,l]),tabValues:l}}var f=r(2389);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=r(5893);function y(e){let{className:t,block:r,selectedValue:n,selectValue:o,tabValues:s}=e;const i=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.o5)(),u=e=>{const t=e.currentTarget,r=i.indexOf(t),a=s[r].value;a!==n&&(c(t),o(a))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const r=i.indexOf(e.currentTarget)+1;t=i[r]??i[0];break}case"ArrowLeft":{const r=i.indexOf(e.currentTarget)-1;t=i[r]??i[i.length-1];break}}t?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.Z)("tabs",{"tabs--block":r},t),children:s.map((e=>{let{value:t,label:r,attributes:l}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>i.push(e),onKeyDown:d,onClick:u,...l,className:(0,a.Z)("tabs__item",g.tabItem,l?.className,{"tabs__item--active":n===t}),children:r??t},t)}))})}function v(e){let{lazy:t,children:r,selectedValue:a}=e;const l=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===a));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:l.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==a})))})}function j(e){const t=m(e);return(0,x.jsxs)("div",{className:(0,a.Z)("tabs-container",g.tabList),children:[(0,x.jsx)(y,{...e,...t}),(0,x.jsx)(v,{...e,...t})]})}function w(e){const t=(0,f.Z)();return(0,x.jsx)(j,{...e,children:d(e.children)},String(t))}},1151:(e,t,r)=>{r.d(t,{Z:()=>s,a:()=>o});var n=r(7294);const a={},l=n.createContext(a);function o(e){const t=n.useContext(l);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);